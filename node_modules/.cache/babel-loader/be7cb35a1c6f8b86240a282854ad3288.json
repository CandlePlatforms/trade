{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Desktop/webapp-v2-feature-gtm_events/src/elements/earn/pools/poolsTable/PoolsTable.tsx\",\n    _s = $RefreshSig$();\n\nimport { prettifyNumber } from 'utils/helperFunctions';\nimport { ReactComponent as IconProtected } from \"@svgr/webpack?-svgo,+titleProp,+ref!assets/icons/protected.svg\";\nimport { useMemo } from 'react';\nimport { DataTable } from 'components/table/DataTable';\nimport { useAppSelector } from 'redux/index';\nimport { PoolsTableCellName } from 'elements/earn/pools/poolsTable/PoolsTableCellName';\nimport { PoolsTableCellRewards } from 'elements/earn/pools/poolsTable/PoolsTableCellRewards';\nimport { PoolsTableCellActions } from 'elements/earn/pools/poolsTable/PoolsTableCellActions';\nimport { ModalCreatePool } from 'elements/modalCreatePool/ModalCreatePool';\nimport { PoolsTableCellApr } from 'elements/earn/pools/poolsTable/PoolsTableCellApr';\nimport { SearchInput } from 'components/searchInput/SearchInput';\nimport { getPools } from 'redux/bancor/pool';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PoolsTable = _ref => {\n  _s();\n\n  let {\n    search,\n    setSearch\n  } = _ref;\n  const pools = useAppSelector(getPools);\n  const data = useMemo(() => {\n    return pools.filter(p => p.version >= 28).filter(p => p.name && p.name.toLowerCase().includes(search.toLowerCase()));\n  }, [pools, search]);\n  const columns = useMemo(() => [{\n    id: 'name',\n    Header: () => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"align-middle inline-flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(IconProtected, {\n        className: \"w-18 mr-20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 54\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this),\n    accessor: 'name',\n    Cell: cellData => PoolsTableCellName(cellData.row.original),\n    minWidth: 225,\n    sortDescFirst: true\n  }, {\n    id: 'liquidity',\n    Header: 'Liquidity',\n    accessor: 'liquidity',\n    Cell: cellData => prettifyNumber(cellData.value, true),\n    tooltip: 'The value of tokens staked in the pool.',\n    minWidth: 130,\n    sortDescFirst: true\n  }, {\n    id: 'v24h',\n    Header: '24h Volume',\n    accessor: 'volume_24h',\n    Cell: cellData => prettifyNumber(cellData.value, true),\n    minWidth: 120,\n    sortDescFirst: true\n  }, {\n    id: 'f24h',\n    Header: '24h Fees',\n    accessor: 'fees_24h',\n    Cell: cellData => prettifyNumber(cellData.value, true),\n    minWidth: 90,\n    sortDescFirst: true\n  }, {\n    id: 'rewards',\n    Header: 'Rewards',\n    accessor: 'reward',\n    Cell: cellData => PoolsTableCellRewards(cellData.row.original),\n    minWidth: 100,\n    sortDescFirst: true,\n    sortType: (a, b, id) => {\n      if (!!a.values[id] && !b.values[id]) return 1;\n      if (!a.values[id] && !!b.values[id]) return -1;\n      return a.values['liquidity'] > b.values['liquidity'] ? 1 : -1;\n    },\n    tooltip: 'Active indicates a current liquidity mining program on the pool.'\n  }, {\n    id: 'apr',\n    Header: 'APR',\n    accessor: 'apr',\n    headerClassName: 'justify-center',\n    Cell: cellData => PoolsTableCellApr(cellData.row.original),\n    minWidth: 250,\n    disableSortBy: true,\n    tooltip: 'Estimated based on the maximum BNT Liquidity Mining rewards multiplier (2x) and annualized trading fees. '\n  }, {\n    id: 'actions',\n    Header: '',\n    accessor: 'isProtected',\n    Cell: cellData => PoolsTableCellActions(cellData.row.original),\n    width: 50,\n    minWidth: 50,\n    disableSortBy: true\n  }], []);\n  const defaultSort = {\n    id: 'liquidity',\n    desc: true\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"content-section pt-20 pb-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-20 mx-[20px] md:mx-[44px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Pools\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex align-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mr-16\",\n          children: /*#__PURE__*/_jsxDEV(SearchInput, {\n            value: search,\n            setValue: setSearch,\n            className: \"max-w-[160px] rounded-10 h-[35px]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hidden md:block\",\n          children: /*#__PURE__*/_jsxDEV(ModalCreatePool, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      data: data,\n      columns: columns,\n      defaultSort: defaultSort,\n      isLoading: !pools.length,\n      stickyColumn: true,\n      search: search\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PoolsTable, \"CjKcJ6YErq64Q1Rj9vOfSXxi3G8=\", false, function () {\n  return [useAppSelector];\n});\n\n_c = PoolsTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"PoolsTable\");","map":{"version":3,"sources":["/Users/safahi/Desktop/webapp-v2-feature-gtm_events/src/elements/earn/pools/poolsTable/PoolsTable.tsx"],"names":["prettifyNumber","useMemo","DataTable","useAppSelector","PoolsTableCellName","PoolsTableCellRewards","PoolsTableCellActions","ModalCreatePool","PoolsTableCellApr","SearchInput","getPools","PoolsTable","search","setSearch","pools","data","filter","p","version","name","toLowerCase","includes","columns","id","Header","accessor","Cell","cellData","row","original","minWidth","sortDescFirst","value","tooltip","sortType","a","b","values","headerClassName","disableSortBy","width","defaultSort","desc","length"],"mappings":"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","sourcesContent":["import { Pool, Token } from 'services/observables/tokens';\nimport { prettifyNumber } from 'utils/helperFunctions';\nimport { ReactComponent as IconProtected } from 'assets/icons/protected.svg';\nimport { useMemo } from 'react';\nimport { SortingRule, Row } from 'react-table';\nimport { DataTable, TableColumn } from 'components/table/DataTable';\nimport { useAppSelector } from 'redux/index';\nimport { PoolsTableCellName } from 'elements/earn/pools/poolsTable/PoolsTableCellName';\nimport { PoolsTableCellRewards } from 'elements/earn/pools/poolsTable/PoolsTableCellRewards';\nimport { PoolsTableCellActions } from 'elements/earn/pools/poolsTable/PoolsTableCellActions';\nimport { ModalCreatePool } from 'elements/modalCreatePool/ModalCreatePool';\nimport { PoolsTableCellApr } from 'elements/earn/pools/poolsTable/PoolsTableCellApr';\nimport { SearchInput } from 'components/searchInput/SearchInput';\nimport { getPools } from 'redux/bancor/pool';\n\ninterface Props {\n  search: string;\n  setSearch: (value: string) => void;\n}\n\nexport const PoolsTable = ({ search, setSearch }: Props) => {\n  const pools = useAppSelector<Pool[]>(getPools);\n\n  const data = useMemo<Pool[]>(() => {\n    return pools\n      .filter((p) => p.version >= 28)\n      .filter(\n        (p) => p.name && p.name.toLowerCase().includes(search.toLowerCase())\n      );\n  }, [pools, search]);\n\n  const columns = useMemo<TableColumn<Pool>[]>(\n    () => [\n      {\n        id: 'name',\n        Header: () => (\n          <span className=\"align-middle inline-flex items-center\">\n            <IconProtected className=\"w-18 mr-20\" /> <span>Name</span>\n          </span>\n        ),\n        accessor: 'name',\n        Cell: (cellData) => PoolsTableCellName(cellData.row.original),\n        minWidth: 225,\n        sortDescFirst: true,\n      },\n      {\n        id: 'liquidity',\n        Header: 'Liquidity',\n        accessor: 'liquidity',\n        Cell: (cellData) => prettifyNumber(cellData.value, true),\n        tooltip: 'The value of tokens staked in the pool.',\n        minWidth: 130,\n        sortDescFirst: true,\n      },\n      {\n        id: 'v24h',\n        Header: '24h Volume',\n        accessor: 'volume_24h',\n        Cell: (cellData) => prettifyNumber(cellData.value, true),\n        minWidth: 120,\n        sortDescFirst: true,\n      },\n      {\n        id: 'f24h',\n        Header: '24h Fees',\n        accessor: 'fees_24h',\n        Cell: (cellData) => prettifyNumber(cellData.value, true),\n        minWidth: 90,\n        sortDescFirst: true,\n      },\n      {\n        id: 'rewards',\n        Header: 'Rewards',\n        accessor: 'reward',\n        Cell: (cellData) => PoolsTableCellRewards(cellData.row.original),\n        minWidth: 100,\n        sortDescFirst: true,\n        sortType: (a: Row<Pool>, b: Row<Pool>, id: string) => {\n          if (!!a.values[id] && !b.values[id]) return 1;\n          if (!a.values[id] && !!b.values[id]) return -1;\n          return a.values['liquidity'] > b.values['liquidity'] ? 1 : -1;\n        },\n        tooltip:\n          'Active indicates a current liquidity mining program on the pool.',\n      },\n      {\n        id: 'apr',\n        Header: 'APR',\n        accessor: 'apr',\n        headerClassName: 'justify-center',\n        Cell: (cellData) => PoolsTableCellApr(cellData.row.original),\n        minWidth: 250,\n        disableSortBy: true,\n        tooltip:\n          'Estimated based on the maximum BNT Liquidity Mining rewards multiplier (2x) and annualized trading fees. ',\n      },\n      {\n        id: 'actions',\n        Header: '',\n        accessor: 'isProtected',\n        Cell: (cellData) => PoolsTableCellActions(cellData.row.original),\n        width: 50,\n        minWidth: 50,\n        disableSortBy: true,\n      },\n    ],\n    []\n  );\n\n  const defaultSort: SortingRule<Token> = { id: 'liquidity', desc: true };\n\n  return (\n    <section className=\"content-section pt-20 pb-10\">\n      <div className=\"flex justify-between items-center mb-20 mx-[20px] md:mx-[44px]\">\n        <h2>Pools</h2>\n        <div className=\"flex align-center\">\n          <div className=\"mr-16\">\n            <SearchInput\n              value={search}\n              setValue={setSearch}\n              className=\"max-w-[160px] rounded-10 h-[35px]\"\n            />\n          </div>\n          <div className=\"hidden md:block\">\n            <ModalCreatePool />\n          </div>\n        </div>\n      </div>\n\n      <DataTable<Pool>\n        data={data}\n        columns={columns}\n        defaultSort={defaultSort}\n        isLoading={!pools.length}\n        stickyColumn\n        search={search}\n      />\n    </section>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}