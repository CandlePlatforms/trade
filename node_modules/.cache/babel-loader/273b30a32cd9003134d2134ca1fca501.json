{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Desktop/webapp-v2-feature-gtm_events/src/components/ticker/Ticker.tsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { useInterval } from 'hooks/useInterval';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Ticker = _ref => {\n  _s();\n\n  let {\n    id,\n    children,\n    speedMs = 60\n  } = _ref;\n  const [pause, setPause] = useState(false);\n  const [pos, setPos] = useState(0);\n  const [scrollBack, setScrollBack] = useState(false);\n  const [isMomentumScrolling, setIsMomentumScrolling] = useState(false);\n  useInterval(async () => {\n    const element = document.getElementById(`${id}`);\n\n    if (element && !pause) {\n      const scrollWidth = element.scrollWidth;\n      const clientWidth = element.clientWidth;\n      const scrollPosition = element.scrollLeft;\n      const scrollTotal = scrollWidth - clientWidth;\n      const nextPosition = scrollBack ? pos - 1 : pos + 1;\n      if (scrollTotal === scrollPosition) setScrollBack(true);\n      if (scrollPosition === 0) setScrollBack(false);\n      element.scrollLeft = nextPosition;\n      setPos(nextPosition);\n    }\n  }, speedMs);\n  const handleScroll = useCallback(event => {\n    const target = event.target;\n    if (target) setPos(target.scrollLeft);\n  }, []);\n  useEffect(() => {\n    const element = document.getElementById(`${id}`);\n    element && element.addEventListener('scroll', handleScroll);\n    return () => {\n      element && element.removeEventListener('scroll', handleScroll);\n    };\n  }, [id, handleScroll]);\n\n  const unpauseOnMomentumEnd = () => {\n    const element = document.getElementById(`${id}`);\n    if (!element) return;\n    const scrollStart = element.scrollLeft;\n    setTimeout(() => {\n      const scrollPos = element.scrollLeft;\n      if (scrollStart !== scrollPos) unpauseOnMomentumEnd();else {\n        setIsMomentumScrolling(false);\n        setPause(false);\n      }\n    }, 250);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: id,\n    onMouseEnter: () => setPause(true),\n    onMouseLeave: () => setPause(false),\n    onTouchStart: () => setPause(true),\n    onTouchEnd: () => {\n      if (!isMomentumScrolling) {\n        setIsMomentumScrolling(true);\n        unpauseOnMomentumEnd();\n      }\n    },\n    className: \"overflow-x-scroll pb-15 px-10 hide-scrollbar\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Ticker, \"pPRjRi8mA9732kmY5U/VSvTHj08=\", false, function () {\n  return [useInterval];\n});\n\n_c = Ticker;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ticker\");","map":{"version":3,"sources":["/Users/safahi/Desktop/webapp-v2-feature-gtm_events/src/components/ticker/Ticker.tsx"],"names":["useCallback","useEffect","useState","useInterval","Ticker","id","children","speedMs","pause","setPause","pos","setPos","scrollBack","setScrollBack","isMomentumScrolling","setIsMomentumScrolling","element","document","getElementById","scrollWidth","clientWidth","scrollPosition","scrollLeft","scrollTotal","nextPosition","handleScroll","event","target","addEventListener","removeEventListener","unpauseOnMomentumEnd","scrollStart","setTimeout","scrollPos"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useInterval } from 'hooks/useInterval';\n\ninterface TickerProps {\n  id: string;\n  children: JSX.Element | JSX.Element[];\n  speedMs?: number;\n}\n\nexport const Ticker = ({ id, children, speedMs = 60 }: TickerProps) => {\n  const [pause, setPause] = useState(false);\n  const [pos, setPos] = useState(0);\n  const [scrollBack, setScrollBack] = useState(false);\n  const [isMomentumScrolling, setIsMomentumScrolling] = useState(false);\n\n  useInterval(async () => {\n    const element = document.getElementById(`${id}`);\n    if (element && !pause) {\n      const scrollWidth = element.scrollWidth;\n      const clientWidth = element.clientWidth;\n      const scrollPosition = element.scrollLeft;\n      const scrollTotal = scrollWidth - clientWidth;\n      const nextPosition = scrollBack ? pos - 1 : pos + 1;\n\n      if (scrollTotal === scrollPosition) setScrollBack(true);\n      if (scrollPosition === 0) setScrollBack(false);\n\n      element.scrollLeft = nextPosition;\n      setPos(nextPosition);\n    }\n  }, speedMs);\n\n  const handleScroll = useCallback((event: Event) => {\n    const target = event.target as HTMLDivElement;\n    if (target) setPos(target.scrollLeft);\n  }, []);\n\n  useEffect(() => {\n    const element = document.getElementById(`${id}`);\n    element && element.addEventListener('scroll', handleScroll);\n    return () => {\n      element && element.removeEventListener('scroll', handleScroll);\n    };\n  }, [id, handleScroll]);\n\n  const unpauseOnMomentumEnd = () => {\n    const element = document.getElementById(`${id}`);\n    if (!element) return;\n    const scrollStart = element.scrollLeft;\n    setTimeout(() => {\n      const scrollPos = element.scrollLeft;\n      if (scrollStart !== scrollPos) unpauseOnMomentumEnd();\n      else {\n        setIsMomentumScrolling(false);\n        setPause(false);\n      }\n    }, 250);\n  };\n\n  return (\n    <div\n      id={id}\n      onMouseEnter={() => setPause(true)}\n      onMouseLeave={() => setPause(false)}\n      onTouchStart={() => setPause(true)}\n      onTouchEnd={() => {\n        if (!isMomentumScrolling) {\n          setIsMomentumScrolling(true);\n          unpauseOnMomentumEnd();\n        }\n      }}\n      className=\"overflow-x-scroll pb-15 px-10 hide-scrollbar\"\n    >\n      {children}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}